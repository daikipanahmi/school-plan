<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•™è‚²æ–¹é‡è¨ºæ–­ - æ¨ªæµœå¸‚ã‚»ãƒ³ã‚¿ãƒ¼å—ã‚¨ãƒªã‚¢å—é¨“æƒ…å ±</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        /* æ•™è‚²æ–¹é‡è¨ºæ–­å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        .education-policy-container {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px 0;
        }

        .policy-header {
            text-align: center;
            color: white;
            margin-bottom: 50px;
        }

        .policy-header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .policy-header .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 30px;
        }

        .policy-intro {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 50px;
            margin: 0 auto 40px;
            max-width: 800px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
        }

        .policy-intro h2 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 25px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .policy-intro p {
            font-size: 1.2rem;
            color: #555;
            line-height: 1.8;
            margin-bottom: 35px;
        }

        .start-diagnosis-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 20px 60px;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
            position: relative;
            overflow: hidden;
        }

        .start-diagnosis-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .start-diagnosis-btn:hover::before {
            left: 100%;
        }

        .start-diagnosis-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 45px rgba(102, 126, 234, 0.6);
        }

        .diagnosis-container {
            background: white;
            border-radius: 25px;
            padding: 50px;
            margin: 0 auto;
            max-width: 900px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
            display: none;
        }

        .progress-section {
            margin-bottom: 40px;
        }

        .progress-bar-container {
            background: #e9ecef;
            height: 12px;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 15px;
            position: relative;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 15px;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .progress-text {
            text-align: center;
            font-weight: 600;
            color: #667eea;
            font-size: 1.1rem;
        }

        .question-section {
            min-height: 500px;
            margin-bottom: 40px;
        }

        .question-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e8f4ff 100%);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            animation: slideInUp 0.6s ease;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .question-title {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 35px;
            color: #2c3e50;
            text-align: center;
            line-height: 1.5;
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .option-card {
            background: white;
            border: 3px solid #e9ecef;
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .option-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .option-card:hover::before {
            opacity: 1;
        }

        .option-card:hover {
            transform: translateY(-5px);
            border-color: #667eea;
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.2);
        }

        .option-card.selected {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-color: #667eea;
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .option-card.selected::after {
            content: 'âœ“';
            position: absolute;
            top: 15px;
            right: 15px;
            width: 30px;
            height: 30px;
            background: #667eea;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .option-text {
            font-size: 1.1rem;
            color: #495057;
            font-weight: 500;
            line-height: 1.6;
            position: relative;
            z-index: 1;
        }

        .navigation-section {
            display: flex;
            justify-content: space-between;
            gap: 20px;
        }

        .nav-btn {
            padding: 15px 40px;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 150px;
        }

        .nav-btn.prev {
            background: #e9ecef;
            color: #495057;
        }

        .nav-btn.prev:hover:not(:disabled) {
            background: #dee2e6;
            transform: translateY(-2px);
        }

        .nav-btn.next {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            flex: 1;
        }

        .nav-btn.next:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .results-section {
            display: none;
            animation: fadeIn 0.8s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .results-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .results-header h2 {
            font-size: 2.5rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .result-card {
            background: white;
            border-radius: 20px;
            padding: 35px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .result-card:hover {
            transform: translateY(-5px);
        }

        .result-card.primary {
            background: linear-gradient(135deg, #f8f9fa 0%, #e8f4ff 100%);
            border-left: 6px solid #667eea;
        }

        .result-card h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .result-highlight {
            font-size: 1.4rem;
            font-weight: 600;
            color: #667eea;
            line-height: 1.6;
            text-align: center;
            padding: 20px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 15px;
        }

        .school-list {
            list-style: none;
            padding: 0;
        }

        .school-list li {
            padding: 15px 25px;
            background: #f8f9fa;
            border-radius: 12px;
            margin-bottom: 12px;
            border-left: 5px solid #667eea;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }

        .school-list li:hover {
            background: #e8f4ff;
            transform: translateX(8px);
        }

        .school-list li::before {
            content: 'ğŸ«';
            margin-right: 10px;
        }

        .advice-list {
            list-style: none;
            padding: 0;
        }

        .advice-list li {
            padding: 12px 0;
            padding-left: 35px;
            position: relative;
            line-height: 1.7;
            color: #555;
            font-size: 1.1rem;
        }

        .advice-list li::before {
            content: "ğŸ’¡";
            position: absolute;
            left: 0;
            font-size: 1.2rem;
        }

        .next-steps {
            background: linear-gradient(135deg, #f8f9fa 0%, #fff 100%);
            border-radius: 20px;
            padding: 40px;
            margin-top: 40px;
        }

        .next-steps h3 {
            font-size: 1.6rem;
            font-weight: 600;
            margin-bottom: 30px;
            color: #2c3e50;
            text-align: center;
        }

        .steps-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
        }

        .step-card {
            background: white;
            padding: 30px 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease;
        }

        .step-card:hover {
            transform: translateY(-8px);
        }

        .step-number {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 700;
            margin: 0 auto 20px;
        }

        .step-card p {
            color: #495057;
            font-weight: 500;
            line-height: 1.6;
            font-size: 1.1rem;
        }

        .restart-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 18px 50px;
            border-radius: 30px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 40px auto 0;
        }

        .restart-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }

        .back-to-home {
            position: fixed;
            top: 30px;
            left: 30px;
            background: rgba(255, 255, 255, 0.9);
            color: #667eea;
            padding: 12px 25px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .back-to-home:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ */
        @media (max-width: 768px) {
            .policy-header h1 {
                font-size: 2.2rem;
            }

            .policy-intro {
                padding: 30px 20px;
                margin: 0 20px 30px;
            }

            .policy-intro h2 {
                font-size: 1.8rem;
            }

            .diagnosis-container {
                padding: 30px 20px;
                margin: 0 20px;
            }

            .question-title {
                font-size: 1.4rem;
            }

            .options-grid {
                grid-template-columns: 1fr;
            }

            .navigation-section {
                flex-direction: column;
            }

            .nav-btn {
                width: 100%;
            }

            .steps-grid {
                grid-template-columns: 1fr;
            }

            .back-to-home {
                position: static;
                display: inline-block;
                margin-bottom: 30px;
            }
        }
    </style>
</head>
<body>
    <div class="education-policy-container">
        <a href="index.html" class="back-to-home">â† ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹</a>
        
        <div class="policy-header">
            <h1>ğŸ¯ æ•™è‚²æ–¹é‡è¨ºæ–­</h1>
            <p class="subtitle">ãŠå­ã•ã¾ã«æœ€é©ãªæ•™è‚²ãƒ—ãƒ©ãƒ³ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†</p>
        </div>

        <div class="policy-intro" id="introSection">
            <h2>ğŸ“š ã‚ãªãŸã«ã´ã£ãŸã‚Šã®æ•™è‚²ãƒ—ãƒ©ãƒ³ã‚’è¦‹ã¤ã‘ã¾ã—ã‚‡ã†</h2>
            <p>æ•™è‚²æ–¹é‡ã€äºˆç®—ã€é€šå­¦æ™‚é–“ã€åœ°åŸŸã€æ ¡é¢¨ãªã©ã«ã¤ã„ã¦ã€10ã€œ15å€‹ã®è³ªå•ã«ãŠç­”ãˆã„ãŸã ãã¨ã€ãŠå­ã•ã¾ã«æœ€é©ãªæ•™è‚²ãƒ—ãƒ©ãƒ³ã‚’ã”ææ¡ˆã—ã¾ã™ã€‚</p>
            <button class="start-diagnosis-btn" id="startButton">è¨ºæ–­ã‚’ã¯ã˜ã‚ã‚‹</button>
        </div>

        <div class="diagnosis-container" id="diagnosisContainer">
            <div class="progress-section">
                <div class="progress-bar-container">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">è³ªå• 1 / 15</div>
            </div>

            <div class="question-section" id="questionSection">
                <div class="question-card">
                    <h3 class="question-title" id="questionTitle"></h3>
                    <div class="options-grid" id="optionsContainer">
                        <!-- é¸æŠè‚¢ãŒå‹•çš„ã«æŒ¿å…¥ã•ã‚Œã‚‹ -->
                    </div>
                </div>
            </div>

            <div class="navigation-section">
                <button class="nav-btn prev" id="prevButton" disabled>æˆ»ã‚‹</button>
                <button class="nav-btn next" id="nextButton" disabled>æ¬¡ã¸</button>
            </div>

            <div class="results-section" id="resultsSection">
                <div class="results-header">
                    <h2>ğŸ“Š è¨ºæ–­çµæœ</h2>
                </div>
                <div id="resultContent">
                    <!-- çµæœãŒå‹•çš„ã«æŒ¿å…¥ã•ã‚Œã‚‹ -->
                </div>
                <button class="restart-btn" id="restartButton">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
            </div>
        </div>
    </div>

    <script>
        // æ•™è‚²æ–¹é‡è¨ºæ–­ã‚·ã‚¹ãƒ†ãƒ 
        const questions = [
            {
                id: 1,
                question: "ãŠå­ã•ã¾ã®ç¾åœ¨ã®å­¦å¹´ã‚’æ•™ãˆã¦ãã ã•ã„",
                type: "single",
                options: [
                    { value: "elementary-low", label: "å°å­¦1ã€œ3å¹´ç”Ÿ" },
                    { value: "elementary-high", label: "å°å­¦4ã€œ6å¹´ç”Ÿ" },
                    { value: "middle", label: "ä¸­å­¦ç”Ÿ" }
                ]
            },
            {
                id: 2,
                question: "å¸Œæœ›ã™ã‚‹é€²è·¯ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",
                type: "single",
                options: [
                    { value: "private-middle", label: "ç§ç«‹ä¸­å­¦å—é¨“" },
                    { value: "public-combined", label: "å…¬ç«‹ä¸­é«˜ä¸€è²«æ ¡å—æ¤œ" },
                    { value: "public-middle", label: "åœ°åŸŸã®å…¬ç«‹ä¸­å­¦" },
                    { value: "private-high", label: "ç§ç«‹é«˜æ ¡å—é¨“" },
                    { value: "public-high", label: "å…¬ç«‹é«˜æ ¡å—é¨“" },
                    { value: "undecided", label: "ã¾ã æ±ºã‚ã¦ã„ãªã„" }
                ]
            },
            {
                id: 3,
                question: "æ•™è‚²ã«ãŠã‘ã‚‹æœ€ã‚‚é‡è¦–ã™ã‚‹ä¾¡å€¤è¦³ã¯ï¼Ÿ",
                type: "single",
                options: [
                    { value: "academic", label: "å­¦åŠ›ãƒ»åå·®å€¤é‡è¦–" },
                    { value: "global", label: "ã‚°ãƒ­ãƒ¼ãƒãƒ«æ•™è‚²ãƒ»èªå­¦åŠ›" },
                    { value: "balanced", label: "æ–‡æ­¦ä¸¡é“ãƒ»ãƒãƒ©ãƒ³ã‚¹" },
                    { value: "independent", label: "è‡ªä¸»æ€§ãƒ»å‰µé€ æ€§" },
                    { value: "traditional", label: "ä¼çµ±ãƒ»è¦å¾‹" }
                ]
            },
            {
                id: 4,
                question: "å¹´é–“ã®æ•™è‚²è²»äºˆç®—ã¯ã©ã®ãã‚‰ã„ã§ã™ã‹ï¼Ÿï¼ˆå¡¾ãƒ»ç¿’ã„äº‹å«ã‚€ï¼‰",
                type: "single",
                options: [
                    { value: "budget-low", label: "ã€œ50ä¸‡å††" },
                    { value: "budget-mid", label: "50ã€œ100ä¸‡å††" },
                    { value: "budget-high", label: "100ã€œ200ä¸‡å††" },
                    { value: "budget-very-high", label: "200ä¸‡å††ä»¥ä¸Š" },
                    { value: "budget-flexible", label: "æŸ”è»Ÿã«å¯¾å¿œå¯èƒ½" }
                ]
            },
            {
                id: 5,
                question: "å¸Œæœ›ã™ã‚‹é€šå­¦æ™‚é–“ã¯ï¼Ÿ",
                type: "single",
                options: [
                    { value: "commute-30", label: "30åˆ†ä»¥å†…" },
                    { value: "commute-45", label: "45åˆ†ä»¥å†…" },
                    { value: "commute-60", label: "60åˆ†ä»¥å†…" },
                    { value: "commute-90", label: "90åˆ†ä»¥å†…ã§ã‚‚å¯" }
                ]
            },
            {
                id: 6,
                question: "å¥½ã¿ã®å­¦æ ¡ã®é›°å›²æ°—ã¯ï¼Ÿ",
                type: "single",
                options: [
                    { value: "atmosphere-strict", label: "è¦å¾‹æ­£ã—ãå³æ ¼" },
                    { value: "atmosphere-moderate", label: "ç¨‹ã‚ˆãè‡ªç”±" },
                    { value: "atmosphere-free", label: "è‡ªç”±ã§ã®ã³ã®ã³" },
                    { value: "atmosphere-innovative", label: "é©æ–°çš„ãƒ»å…ˆé€²çš„" }
                ]
            },
            {
                id: 7,
                question: "ãŠå­ã•ã¾ã®å­¦ç¿’ã‚¹ã‚¿ã‚¤ãƒ«ã¯ï¼Ÿ",
                type: "single",
                options: [
                    { value: "learning-competitive", label: "ç«¶äº‰å¿ƒãŒå¼·ãã€ç›®æ¨™ã«å‘ã‹ã£ã¦é ‘å¼µã‚‹ã‚¿ã‚¤ãƒ—" },
                    { value: "learning-steady", label: "ã‚³ãƒ„ã‚³ãƒ„ç€å®Ÿã«å–ã‚Šçµ„ã‚€ã‚¿ã‚¤ãƒ—" },
                    { value: "learning-creative", label: "æ¢ç©¶å¿ƒãŒå¼·ãã€å‰µé€ çš„ãªã‚¿ã‚¤ãƒ—" },
                    { value: "learning-social", label: "å‹é”ã¨å”åŠ›ã—ãªãŒã‚‰å­¦ã¶ã®ãŒå¾—æ„" }
                ]
            },
            {
                id: 8,
                question: "è‹±èªæ•™è‚²ã®é‡è¦åº¦ã¯ï¼Ÿ",
                type: "single",
                options: [
                    { value: "english-critical", label: "éå¸¸ã«é‡è¦ï¼ˆç•™å­¦ãƒ»å›½éš›é€²å­¦ã‚‚è¦–é‡ï¼‰" },
                    { value: "english-important", label: "é‡è¦ï¼ˆå—é¨“ã§ã®å¼·ã¿ã«ã—ãŸã„ï¼‰" },
                    { value: "english-moderate", label: "æ™®é€šï¼ˆãƒãƒ©ãƒ³ã‚¹ã‚ˆãå­¦ã³ãŸã„ï¼‰" },
                    { value: "english-basic", label: "åŸºæœ¬çš„ãªãƒ¬ãƒ™ãƒ«ã§ååˆ†" }
                ]
            },
            {
                id: 9,
                question: "éƒ¨æ´»å‹•ãƒ»èª²å¤–æ´»å‹•ã¸ã®æœŸå¾…ã¯ï¼Ÿ",
                type: "single",
                options: [
                    { value: "club-essential", label: "ç©æ¥µçš„ã«å‚åŠ ã•ã›ãŸã„" },
                    { value: "club-moderate", label: "å‹‰å¼·ã¨ã®ãƒãƒ©ãƒ³ã‚¹ã§" },
                    { value: "club-minimal", label: "å‹‰å¼·å„ªå…ˆã§ã‚ˆã„" },
                    { value: "club-specific", label: "ç‰¹å®šã®æ´»å‹•ã«åŠ›ã‚’å…¥ã‚ŒãŸã„" }
                ]
            },
            {
                id: 10,
                question: "å¤§å­¦é€²å­¦ã®å¸Œæœ›ã¯ï¼Ÿ",
                type: "single",
                options: [
                    { value: "university-top", label: "é›£é–¢å›½å…¬ç«‹ãƒ»æ—©æ…¶ä¸Šæ™ºãƒ¬ãƒ™ãƒ«" },
                    { value: "university-gmarch", label: "GMARCHãƒ»é–¢é–¢åŒç«‹ãƒ¬ãƒ™ãƒ«" },
                    { value: "university-general", label: "4å¹´åˆ¶å¤§å­¦ã«é€²å­¦ã§ãã‚Œã°" },
                    { value: "university-flexible", label: "ã¾ã è€ƒãˆã¦ã„ãªã„" }
                ]
            },
            {
                id: 11,
                question: "å…±å­¦ãƒ»åˆ¥å­¦ã®å¸Œæœ›ã¯ï¼Ÿ",
                type: "single",
                options: [
                    { value: "coed-only", label: "å…±å­¦å¸Œæœ›" },
                    { value: "separate-boys", label: "ç”·å­æ ¡å¸Œæœ›" },
                    { value: "separate-girls", label: "å¥³å­æ ¡å¸Œæœ›" },
                    { value: "coed-flexible", label: "ã©ã¡ã‚‰ã§ã‚‚" }
                ]
            },
            {
                id: 12,
                question: "å®—æ•™ç³»å­¦æ ¡ã«ã¤ã„ã¦ã®ãŠè€ƒãˆã¯ï¼Ÿ",
                type: "single",
                options: [
                    { value: "religion-prefer", label: "å®—æ•™æ•™è‚²ã‚’å—ã‘ã•ã›ãŸã„" },
                    { value: "religion-ok", label: "å•é¡Œãªã„" },
                    { value: "religion-avoid", label: "ã§ãã‚Œã°é¿ã‘ãŸã„" }
                ]
            },
            {
                id: 13,
                question: "ãŠå­ã•ã¾ã®æ€§æ ¼ã§å½“ã¦ã¯ã¾ã‚‹ã‚‚ã®ã¯ï¼Ÿ",
                type: "multiple",
                options: [
                    { value: "personality-leader", label: "ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—ãŒã‚ã‚‹" },
                    { value: "personality-calm", label: "è½ã¡ç€ã„ã¦ã„ã‚‹" },
                    { value: "personality-active", label: "æ´»ç™ºã§å…ƒæ°—" },
                    { value: "personality-curious", label: "å¥½å¥‡å¿ƒæ—ºç››" },
                    { value: "personality-sensitive", label: "ç¹Šç´°ã§æ€ã„ã‚„ã‚ŠãŒã‚ã‚‹" }
                ]
            },
            {
                id: 14,
                question: "å°†æ¥ã®ã‚­ãƒ£ãƒªã‚¢ã«ã¤ã„ã¦é–¢å¿ƒãŒã‚ã‚‹åˆ†é‡ã¯ï¼Ÿï¼ˆè¤‡æ•°é¸æŠå¯ï¼‰",
                type: "multiple",
                options: [
                    { value: "career-stem", label: "ç†ç³»ãƒ»STEMåˆ†é‡" },
                    { value: "career-liberal", label: "æ–‡ç³»ãƒ»äººæ–‡ç¤¾ä¼šç§‘å­¦" },
                    { value: "career-arts", label: "èŠ¸è¡“ãƒ»ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–" },
                    { value: "career-business", label: "ãƒ“ã‚¸ãƒã‚¹ãƒ»çµŒå–¶" },
                    { value: "career-medical", label: "åŒ»ç™‚ãƒ»ç¦ç¥‰" },
                    { value: "career-international", label: "å›½éš›é–¢ä¿‚" },
                    { value: "career-undecided", label: "ã¾ã æ±ºã¾ã£ã¦ã„ãªã„" }
                ]
            },
            {
                id: 15,
                question: "æœ€å¾Œã«ã€ãã®ä»–é‡è¦–ã™ã‚‹æ¡ä»¶ãŒã‚ã‚Œã°æ•™ãˆã¦ãã ã•ã„",
                type: "multiple",
                options: [
                    { value: "other-uniform", label: "åˆ¶æœãŒé­…åŠ›çš„" },
                    { value: "other-facilities", label: "æœ€æ–°ã®è¨­å‚™ãƒ»æ–½è¨­" },
                    { value: "other-tradition", label: "ä¼çµ±ã¨å®Ÿç¸¾" },
                    { value: "other-innovation", label: "å…ˆé€²çš„ãªæ•™è‚²æ–¹é‡" },
                    { value: "other-support", label: "ãã‚ç´°ã‚„ã‹ãªã‚µãƒãƒ¼ãƒˆ" },
                    { value: "other-diversity", label: "å¤šæ§˜æ€§ã®ã‚ã‚‹ç’°å¢ƒ" },
                    { value: "other-none", label: "ç‰¹ã«ãªã—" }
                ]
            }
        ];

        let currentQuestion = 0;
        let answers = {};

        document.addEventListener('DOMContentLoaded', function() {
            const startButton = document.getElementById('startButton');
            const prevButton = document.getElementById('prevButton');
            const nextButton = document.getElementById('nextButton');
            const restartButton = document.getElementById('restartButton');

            startButton.addEventListener('click', startDiagnosis);
            prevButton.addEventListener('click', previousQuestion);
            nextButton.addEventListener('click', nextQuestion);
            restartButton.addEventListener('click', restartDiagnosis);
        });

        function startDiagnosis() {
            document.getElementById('introSection').style.display = 'none';
            document.getElementById('diagnosisContainer').style.display = 'block';
            currentQuestion = 0;
            answers = {};
            showQuestion();
        }

        function showQuestion() {
            const question = questions[currentQuestion];
            const titleElement = document.getElementById('questionTitle');
            const optionsContainer = document.getElementById('optionsContainer');
            
            titleElement.textContent = question.question;
            
            let html = '';
            question.options.forEach(option => {
                const isSelected = question.type === 'single' 
                    ? answers[question.id] === option.value
                    : answers[question.id] && answers[question.id].includes(option.value);
                
                html += `
                    <div class="option-card ${isSelected ? 'selected' : ''}" 
                         data-value="${option.value}" 
                         data-type="${question.type}">
                        <div class="option-text">${option.label}</div>
                    </div>
                `;
            });

            optionsContainer.innerHTML = html;

            // é¸æŠè‚¢ã«ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¿½åŠ 
            const optionCards = optionsContainer.querySelectorAll('.option-card');
            optionCards.forEach(card => {
                card.addEventListener('click', function() {
                    const value = this.dataset.value;
                    const type = this.dataset.type;
                    
                    if (type === 'single') {
                        // å˜ä¸€é¸æŠã®å ´åˆã€ä»–ã®é¸æŠã‚’è§£é™¤
                        optionCards.forEach(c => c.classList.remove('selected'));
                        this.classList.add('selected');
                        answers[question.id] = value;
                    } else {
                        // è¤‡æ•°é¸æŠã®å ´åˆã€ãƒˆã‚°ãƒ«
                        this.classList.toggle('selected');
                        if (!answers[question.id]) answers[question.id] = [];
                        
                        if (this.classList.contains('selected')) {
                            answers[question.id].push(value);
                        } else {
                            answers[question.id] = answers[question.id].filter(v => v !== value);
                        }
                    }
                    
                    updateButtons();
                });
            });

            updateProgress();
            updateButtons();
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `è³ªå• ${currentQuestion + 1} / ${questions.length}`;
        }

        function updateButtons() {
            const prevButton = document.getElementById('prevButton');
            const nextButton = document.getElementById('nextButton');
            const question = questions[currentQuestion];
            
            prevButton.disabled = currentQuestion === 0;
            
            const hasAnswer = question.type === 'single' 
                ? answers[question.id] 
                : answers[question.id] && answers[question.id].length > 0;
            
            nextButton.disabled = !hasAnswer;
            nextButton.textContent = currentQuestion === questions.length - 1 ? 'çµæœã‚’è¦‹ã‚‹' : 'æ¬¡ã¸';
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            document.getElementById('questionSection').style.display = 'none';
            document.getElementById('resultsSection').style.display = 'block';
            
            const analysis = analyzeAnswers();
            displayResults(analysis);
        }

        function analyzeAnswers() {
            const grade = answers[1];
            const path = answers[2];
            const values = answers[3];
            const budget = answers[4];
            const commute = answers[5];
            const atmosphere = answers[6];
            const learning = answers[7];
            const english = answers[8];
            const club = answers[9];
            const university = answers[10];
            const coed = answers[11];
            const religion = answers[12];

            let recommendedPath = '';
            let schoolSuggestions = [];
            let studyApproach = '';
            let timelineSuggestion = '';

            // Determine recommended path based on answers
            if (path === 'undecided') {
                if (grade === 'elementary-high') {
                    if (values === 'academic' && budget !== 'budget-low') {
                        recommendedPath = 'ç§ç«‹ä¸­å­¦å—é¨“ã‚’æ¤œè¨ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™';
                        schoolSuggestions = ['æ£®æ‘å­¦åœ’ä¸­ç­‰éƒ¨', 'æ¡è”­å­¦åœ’ä¸­ç­‰æ•™è‚²å­¦æ ¡', 'å±±æ‰‹å­¦é™¢ä¸­å­¦æ ¡'];
                    } else if (values === 'global') {
                        recommendedPath = 'ã‚°ãƒ­ãƒ¼ãƒãƒ«æ•™è‚²ã«åŠ›ã‚’å…¥ã‚Œã¦ã„ã‚‹ç§ç«‹ä¸­å­¦ã‚’ãŠå‹§ã‚ã—ã¾ã™';
                        schoolSuggestions = ['é’å±±å­¦é™¢æ¨ªæµœè‹±å’Œä¸­å­¦æ ¡', 'å±±æ‰‹å­¦é™¢ä¸­å­¦æ ¡', 'é–¢æ±å­¦é™¢ä¸­å­¦æ ¡'];
                    } else {
                        recommendedPath = 'å…¬ç«‹ä¸­å­¦ã‹ã‚‰é«˜æ ¡å—é¨“ã®ãƒ«ãƒ¼ãƒˆãŒé©ã—ã¦ã„ã¾ã™';
                        schoolSuggestions = ['åœ°åŸŸã®å…¬ç«‹ä¸­å­¦', 'çœŒç«‹æ¨ªæµœç¿ åµé«˜æ ¡ï¼ˆé«˜æ ¡ï¼‰', 'çœŒç«‹å¸Œæœ›ã‚±ä¸˜é«˜æ ¡ï¼ˆé«˜æ ¡ï¼‰'];
                    }
                } else if (grade === 'middle') {
                    recommendedPath = 'é«˜æ ¡å—é¨“ã«å‘ã‘ãŸæº–å‚™ã‚’é€²ã‚ã¾ã—ã‚‡ã†';
                    if (values === 'academic') {
                        schoolSuggestions = ['çœŒç«‹æ¨ªæµœç¿ åµé«˜æ ¡', 'çœŒç«‹æŸé™½é«˜æ ¡', 'æ¡è”­å­¦åœ’é«˜ç­‰å­¦æ ¡'];
                    } else if (values === 'global') {
                        schoolSuggestions = ['å±±æ‰‹å­¦é™¢é«˜ç­‰å­¦æ ¡', 'æ¡å…‰å­¦åœ’é«˜ç­‰å­¦æ ¡', 'çœŒç«‹æ¨ªæµœå›½éš›é«˜æ ¡'];
                    } else {
                        schoolSuggestions = ['çœŒç«‹å¸‚ã‚±å°¾é«˜æ ¡', 'çœŒç«‹å…ƒçŸ³å·é«˜æ ¡', 'æ—¥æœ¬å¤§å­¦é«˜ç­‰å­¦æ ¡'];
                    }
                }
            } else if (path === 'private-middle') {
                recommendedPath = 'ç§ç«‹ä¸­å­¦å—é¨“';
                if (values === 'academic') {
                    schoolSuggestions = ['æ¡è”­å­¦åœ’ä¸­ç­‰æ•™è‚²å­¦æ ¡', 'ç¥å¥ˆå·å¤§å­¦é™„å±ä¸­å­¦æ ¡', 'æ£®æ‘å­¦åœ’ä¸­ç­‰éƒ¨'];
                } else if (values === 'global') {
                    schoolSuggestions = ['é’å±±å­¦é™¢æ¨ªæµœè‹±å’Œä¸­å­¦æ ¡', 'å±±æ‰‹å­¦é™¢ä¸­å­¦æ ¡', 'æœçœŸå¥³å­¦æ ¡ä¸­å­¦éƒ¨'];
                } else if (values === 'balanced') {
                    schoolSuggestions = ['æ£®æ‘å­¦åœ’ä¸­ç­‰éƒ¨', 'æ¨ªæµœå¥³å­¦é™¢ä¸­å­¦æ ¡', 'é–¢æ±å­¦é™¢ä¸­å­¦æ ¡'];
                }
            } else if (path === 'public-combined') {
                recommendedPath = 'å…¬ç«‹ä¸­é«˜ä¸€è²«æ ¡å—æ¤œ';
                schoolSuggestions = ['æ¨ªæµœå¸‚ç«‹å—é«˜ç­‰å­¦æ ¡é™„å±ä¸­å­¦æ ¡', 'æ¨ªæµœå¸‚ç«‹æ¨ªæµœã‚µã‚¤ã‚¨ãƒ³ã‚¹ãƒ•ãƒ­ãƒ³ãƒ†ã‚£ã‚¢é«˜ç­‰å­¦æ ¡é™„å±ä¸­å­¦æ ¡'];
            } else if (path.includes('high')) {
                recommendedPath = 'é«˜æ ¡å—é¨“';
                if (values === 'academic') {
                    schoolSuggestions = ['çœŒç«‹æ¨ªæµœç¿ åµé«˜æ ¡', 'çœŒç«‹æŸé™½é«˜æ ¡', 'æ¡è”­å­¦åœ’é«˜ç­‰å­¦æ ¡'];
                } else if (values === 'global') {
                    schoolSuggestions = ['å±±æ‰‹å­¦é™¢é«˜ç­‰å­¦æ ¡', 'çœŒç«‹æ¨ªæµœå›½éš›é«˜æ ¡', 'æ¡å…‰å­¦åœ’é«˜ç­‰å­¦æ ¡'];
                } else {
                    schoolSuggestions = ['çœŒç«‹å¸‚ã‚±å°¾é«˜æ ¡', 'æ—¥æœ¬å¤§å­¦é«˜ç­‰å­¦æ ¡', 'é–¢æ±å­¦é™¢é«˜ç­‰å­¦æ ¡'];
                }
            } else {
                recommendedPath = 'åœ°åŸŸã®å…¬ç«‹ä¸­å­¦ã‹ã‚‰é«˜æ ¡å—é¨“';
                schoolSuggestions = ['åœ°åŸŸã®å…¬ç«‹ä¸­å­¦æ ¡', 'çœŒç«‹å¸Œæœ›ã‚±ä¸˜é«˜æ ¡', 'çœŒç«‹å¸‚ã‚±å°¾é«˜æ ¡'];
            }

            // Determine study approach
            if (learning === 'learning-competitive' && values === 'academic') {
                studyApproach = 'ã‚¹ãƒ‘ãƒ«ã‚¿å‹ï¼šSAPIXã€æ—¥èƒ½ç ”ãªã©ã®å¤§æ‰‹é€²å­¦å¡¾ã§ã€ç«¶äº‰ç’°å¢ƒã®ä¸­ã§å®ŸåŠ›ã‚’ä¼¸ã°ã™';
            } else if (values === 'global' || english === 'english-critical') {
                studyApproach = 'ã‚°ãƒ­ãƒ¼ãƒãƒ«é‡è¦–å‹ï¼šè‹±èªæ•™è‚²ã¨å›½éš›æ„Ÿè¦šã‚’é¤Šã„ãªãŒã‚‰å—é¨“æº–å‚™ã‚’é€²ã‚ã‚‹';
            } else {
                studyApproach = 'ãƒãƒ©ãƒ³ã‚¹å‹ï¼šCGå•“æ˜é¤¨ã€æ „å…‰ã‚¼ãƒŸãƒŠãƒ¼ãƒ«ãªã©ã€å­¦åŠ›ã¨ãƒ¡ãƒ³ã‚¿ãƒ«é¢ã‚’ãƒãƒ©ãƒ³ã‚¹ã‚ˆãã‚µãƒãƒ¼ãƒˆ';
            }

            // Timeline suggestion
            if (grade === 'elementary-low') {
                timelineSuggestion = 'å°å­¦4å¹´ç”Ÿã‹ã‚‰æœ¬æ ¼çš„ãªå—é¨“æº–å‚™ã‚’é–‹å§‹ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚ãã‚Œã¾ã§ã¯åŸºç¤å­¦åŠ›ã®å®šç€ã¨å­¦ç¿’ç¿’æ…£ã®ç¢ºç«‹ã«æ³¨åŠ›ã—ã¾ã—ã‚‡ã†ã€‚';
            } else if (grade === 'elementary-high') {
                if (path === 'private-middle' || path === 'public-combined') {
                    timelineSuggestion = 'ä»Šã™ãå¡¾é¸ã³ã‚’å§‹ã‚ã€6å¹´ç”Ÿã®ç§‹ã¾ã§ã«å¿—æœ›æ ¡ã‚’çµã‚Šè¾¼ã¿ã¾ã—ã‚‡ã†ã€‚';
                } else {
                    timelineSuggestion = 'ä¸­å­¦å—é¨“ã‚’ã—ãªã„å ´åˆã‚‚ã€å…¬ç«‹ä¸­å­¦ã§ä¸Šä½ã‚’ç›®æŒ‡ã›ã‚‹ã‚ˆã†åŸºç¤ã‚’å›ºã‚ã¦ãŠãã“ã¨ãŒé‡è¦ã§ã™ã€‚';
                }
            } else {
                timelineSuggestion = 'é«˜æ ¡å—é¨“ã«å‘ã‘ã¦ã€ä¸­2ã®çµ‚ã‚ã‚Šã¾ã§ã«åŸºç¤ã‚’å›ºã‚ã€ä¸­3ã‹ã‚‰æœ¬æ ¼çš„ãªå—é¨“å¯¾ç­–ã‚’å§‹ã‚ã¾ã—ã‚‡ã†ã€‚';
            }

            return {
                recommendedPath,
                schoolSuggestions,
                studyApproach,
                timelineSuggestion,
                values,
                budget,
                commute,
                atmosphere,
                english
            };
        }

        function displayResults(analysis) {
            const resultContent = document.getElementById('resultContent');

            resultContent.innerHTML = `
                <div class="result-card primary">
                    <h3>ğŸ¯ ãŠã™ã™ã‚ã®æ•™è‚²ãƒ—ãƒ©ãƒ³</h3>
                    <p class="result-highlight">${analysis.recommendedPath}</p>
                </div>

                <div class="result-card">
                    <h3>ğŸ« ãŠã™ã™ã‚ã®å­¦æ ¡</h3>
                    <ul class="school-list">
                        ${analysis.schoolSuggestions.map(school => `<li>${school}</li>`).join('')}
                    </ul>
                    <p style="margin-top: 15px; font-size: 0.9rem; color: #666; font-style: italic;">è©³ç´°ã¯å„å­¦æ ¡ãƒšãƒ¼ã‚¸ã‚’ã”ç¢ºèªãã ã•ã„ã€‚</p>
                </div>

                <div class="result-card">
                    <h3>ğŸ“š æ¨å¥¨ã™ã‚‹å­¦ç¿’ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ</h3>
                    <p style="font-size: 1.1rem; line-height: 1.7; color: #555;">${analysis.studyApproach}</p>
                </div>

                <div class="result-card">
                    <h3>â° ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ææ¡ˆ</h3>
                    <p style="font-size: 1.1rem; line-height: 1.7; color: #555;">${analysis.timelineSuggestion}</p>
                </div>

                <div class="result-card">
                    <h3>ğŸ’¡ è¿½åŠ ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹</h3>
                    <ul class="advice-list">
                        ${generateAdditionalAdvice(analysis).map(advice => `<li>${advice}</li>`).join('')}
                    </ul>
                </div>

                <div class="next-steps">
                    <h3>æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h3>
                    <div class="steps-grid">
                        <div class="step-card">
                            <div class="step-number">1</div>
                            <p>æ°—ã«ãªã‚‹å­¦æ ¡ã®è©³ç´°ãƒšãƒ¼ã‚¸ã‚’ç¢ºèª</p>
                        </div>
                        <div class="step-card">
                            <div class="step-number">2</div>
                            <p>å­¦æ ¡èª¬æ˜ä¼šã‚„è¦‹å­¦ä¼šã«å‚åŠ </p>
                        </div>
                        <div class="step-card">
                            <div class="step-number">3</div>
                            <p>å¡¾ã®ä½“é¨“æˆæ¥­ã‚’å—ã‘ã¦ã¿ã‚‹</p>
                        </div>
                        <div class="step-card">
                            <div class="step-number">4</div>
                            <p>å®¶æ—ã§æ•™è‚²æ–¹é‡ã‚’è©±ã—åˆã†</p>
                        </div>
                    </div>
                </div>
            `;
        }

        function generateAdditionalAdvice(analysis) {
            const advice = [];

            if (analysis.english === 'english-critical' || analysis.english === 'english-important') {
                advice.push('è‹±èªæ•™è‚²ã‚’é‡è¦–ã•ã‚Œã¦ã„ã‚‹ã®ã§ã€TOEFL Primary/Juniorã®å—é¨“ã‚‚æ¤œè¨ã—ã¦ã¿ã¦ãã ã•ã„ã€‚');
            }

            if (analysis.budget === 'budget-low' || analysis.budget === 'budget-mid') {
                advice.push('äºˆç®—ã‚’è€ƒæ…®ã—ã€å…¬ç«‹æ ¡ã‚„å¥¨å­¦é‡‘åˆ¶åº¦ãŒå……å®Ÿã—ã¦ã„ã‚‹å­¦æ ¡ã‚‚é¸æŠè‚¢ã«å…¥ã‚Œã¾ã—ã‚‡ã†ã€‚');
            }

            if (analysis.commute === 'commute-30') {
                advice.push('é€šå­¦æ™‚é–“30åˆ†ä»¥å†…ã‚’ã”å¸Œæœ›ãªã®ã§ã€è¿‘éš£ã®å­¦æ ¡ã‚’å„ªå…ˆçš„ã«æ¤œè¨ã—ã¾ã—ã‚‡ã†ã€‚');
            }

            if (analysis.atmosphere === 'atmosphere-free') {
                advice.push('è‡ªç”±ãªæ ¡é¢¨ã‚’å¥½ã¾ã‚Œã¦ã„ã‚‹ã®ã§ã€å­¦æ ¡è¦‹å­¦ã§ç”Ÿå¾’ã®æ§˜å­ã‚’å®Ÿéš›ã«ç¢ºèªã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚');
            }

            if (analysis.values === 'global') {
                advice.push('å›½éš›æ•™è‚²ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚„ç•™å­¦åˆ¶åº¦ã®å……å®Ÿåº¦ã‚’æ¯”è¼ƒæ¤œè¨ã—ã¾ã—ã‚‡ã†ã€‚');
            }

            if (advice.length === 0) {
                advice.push('å­¦æ ¡é¸ã³ã¯å®Ÿéš›ã«è¶³ã‚’é‹ã‚“ã§é›°å›²æ°—ã‚’æ„Ÿã˜ã‚‹ã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚');
                advice.push('ãŠå­ã•ã¾ã®æ„è¦‹ã‚‚èããªãŒã‚‰ã€å®¶æ—ã§ç´å¾—ã§ãã‚‹é¸æŠã‚’ã—ã¾ã—ã‚‡ã†ã€‚');
            }

            return advice;
        }

        function restartDiagnosis() {
            document.getElementById('resultsSection').style.display = 'none';
            document.getElementById('questionSection').style.display = 'block';
            document.getElementById('introSection').style.display = 'block';
            document.getElementById('diagnosisContainer').style.display = 'none';
            currentQuestion = 0;
            answers = {};
        }
    </script>
</body>
</html>